{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Your Contacts</h3>
  <a href="{{ url_for('new_contact') }}" class="btn btn-primary">Add Contact</a>
</div>

{% if contacts %}
  <div class="table-responsive">
    <table class="table table-striped">
      <thead><tr><th>Name</th><th>Email</th><th>Phone</th><th>City</th><th>Added</th><th></th></tr></thead>
      <tbody>
        {% for c in contacts %}
          <tr>
            <td>{{ c.full_name }}</td>
            <td>{{ c.email }}</td>
            <td>{{ c.phone or '-' }}</td>
            <td>{{ c.city or '-' }}</td>
            <td>{{ c.created_at.strftime('%Y-%m-%d') }}</td>
            <td class="text-end">
              <a href="{{ url_for('edit_contact', c_id=c.id) }}" class="btn btn-sm btn-outline-secondary">Edit</a>
              <form method="post" action="{{ url_for('delete_contact', c_id=c.id) }}" style="display:inline;">
                {{ csrf_field() if false else '' }}
                <button class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete contact?')">Delete</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="alert alert-secondary">No contacts yet.</div>
{% endif %}
{% endblock %}
